<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Simulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav id="navbar" class="navbar hidden">
        <div class="nav-content">
            <h1 class="nav-title">City Simulator</h1>
            <button class="nav-button" onclick="returnToLanding()">← Back to Start</button>
        </div>
    </nav>

    <!-- Survey Panel -->
    <div id="survey-panel" class="survey-panel hidden">
        <div class="survey-content">
            <h1>City Suitability Survey</h1>
            
            <div class="questionnaire-section">
                <h2>Figure out which city might be more suitable for you.</h2>
                <p class="questionnaire-intro">Rate each factor on a scale of 1-10</p>
                
                <div class="question">
                    <label>1. How comfortable do you feel expressing your personal identity in this city?</label>
                    <div class="slider-container">
                        <span class="slider-label">1 (Not comfortable)</span>
                        <input type="range" min="1" max="10" value="5" class="slider" id="q1">
                        <span class="slider-value" id="q1-value">5</span>
                        <span class="slider-label">10 (Very comfortable)</span>
                    </div>
                </div>

                <div class="question">
                    <label>2. Do you feel comfortable communicating openly with managers?</label>
                    <div class="slider-container">
                        <span class="slider-label">1 (Not comfortable)</span>
                        <input type="range" min="1" max="10" value="5" class="slider" id="q2">
                        <span class="slider-value" id="q2-value">5</span>
                        <span class="slider-label">10 (Very comfortable)</span>
                    </div>
                </div>

                <div class="question">
                    <label>3. How accessible are new job opportunities in your field?</label>
                    <div class="slider-container">
                        <span class="slider-label">1 (Not accessible)</span>
                        <input type="range" min="1" max="10" value="5" class="slider" id="q3">
                        <span class="slider-value" id="q3-value">5</span>
                        <span class="slider-label">10 (Very accessible)</span>
                    </div>
                </div>

                <div class="question">
                    <label>4. How satisfied are you with the healthcare system and insurance coverage?</label>
                    <div class="slider-container">
                        <span class="slider-label">1 (Not satisfied)</span>
                        <input type="range" min="1" max="10" value="5" class="slider" id="q4">
                        <span class="slider-value" id="q4-value">5</span>
                        <span class="slider-label">10 (Very satisfied)</span>
                    </div>
                </div>

                <div class="question">
                    <label>5. Do you feel the city treats residents fairly regardless of income, gender, or nationality?</label>
                    <div class="slider-container">
                        <span class="slider-label">1 (Not fairly)</span>
                        <input type="range" min="1" max="10" value="5" class="slider" id="q5">
                        <span class="slider-value" id="q5-value">5</span>
                        <span class="slider-label">10 (Very fairly)</span>
                    </div>
                </div>

                <div class="result-section">
                    <button class="calculate-button" onclick="calculateSuitability()">Calculate My Result</button>
                    <div id="suitability-result" class="suitability-result"></div>
                </div>

                <button class="back-button" onclick="closeSurvey()">← Back to Start</button>
            </div>
        </div>
    </div>

    <!-- Game Intro Panel -->
    <div id="intro-panel" class="intro-panel">
        <div class="intro-content">
            <h1>City Simulator</h1>
            
            <div class="intro-text">
                <p>The monthly budget is based on the assumption that you are educated and be able to find a job with a median income.</p>
                <p><strong>Your goal is to make daily choices, buy what you need, and see how long your budget lasts.</strong></p>
            </div>

            <div class="survey-button-section">
                <h2>Figure out which city might be more suitable for you.</h2>
                <button class="survey-button" onclick="openSurvey()">Take a Survey</button>
            </div>

            <div class="compare-section">
                <h2>First take a look at the commodity prices in Both Cities!</h2>
                <button class="compare-button" onclick="selectCity('both')">Compare Both Cities</button>
            </div>

            <div class="city-options">
                <div class="city-option">
                    <h2>Tokyo</h2>
                    <div class="city-description">
                        <p>Your gross monthly income is <strong>¥471,000</strong>.</p>
                        <p>After tax, your take-home pay is <strong>¥386,200</strong>.</p>
                        <p>This is your budget for one month in Tokyo.</p>
                    </div>
                    <button class="city-button" onclick="selectCity('tokyo')">Choose Tokyo</button>
                </div>

                <div class="city-option">
                    <h2>New York City</h2>
                    <div class="city-description">
                        <p>Your gross monthly income is <strong>$6,643 USD</strong>.</p>
                        <p>After tax, your take-home pay is <strong>$5,447</strong>.</p>
                        <p>This is your budget for one month in NYC.</p>
                    </div>
                    <button class="city-button" onclick="selectCity('nyc')">Choose NYC</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Tokyo Side -->
        <div class="city-section tokyo">
            <div class="city-header">
                <h1>TOKYO</h1>
                <button class="currency-toggle" id="tokyo-currency-toggle" onclick="toggleTokyoCurrency()">
                    Show prices in USD
                </button>
            </div>
            
            <!-- Live Budget Calculator -->
            <div class="budget-calculator">
                <div class="day-counter">Day <span id="tokyo-day">1</span>/30</div>
                <div class="budget-row">
                    <span>Starting Budget:</span>
                    <span class="amount"><span id="tokyo-starting-symbol">¥</span><span id="tokyo-starting">201,200</span></span>
                </div>
                <div class="budget-row expense">
                    <span>Items Purchased Today:</span>
                    <span class="amount">-<span id="tokyo-total-symbol">¥</span><span id="tokyo-total">0</span></span>
                </div>
                <div id="tokyo-items-list" class="items-list"></div>
                <hr>
                <div class="budget-row remaining">
                    <span>Remaining Budget:</span>
                    <span class="amount"><span id="tokyo-remaining-symbol">¥</span><span id="tokyo-remaining">201,200</span></span>
                </div>
                <button class="submit-day-button" onclick="submitDay('tokyo')">End Day & Continue →</button>
            </div>

            <div id="tokyo-items" class="items-grid"></div>
        </div>

        <!-- NYC Side -->
        <div class="city-section nyc">
            <div class="city-header">
                <h1>NYC</h1>
            </div>
            
            <!-- Live Budget Calculator -->
            <div class="budget-calculator">
                <div class="day-counter">Day <span id="nyc-day">1</span>/30</div>
                <div class="budget-row">
                    <span>Starting Budget:</span>
                    <span class="amount">$<span id="nyc-starting">2,247.00</span></span>
                </div>
                <div class="budget-row expense">
                    <span>Items Purchased Today:</span>
                    <span class="amount">-$<span id="nyc-total">0.00</span></span>
                </div>
                <div id="nyc-items-list" class="items-list"></div>
                <hr>
                <div class="budget-row remaining">
                    <span>Remaining Budget:</span>
                    <span class="amount">$<span id="nyc-remaining">2,247.00</span></span>
                </div>
                <button class="submit-day-button" onclick="submitDay('nyc')">End Day & Continue →</button>
            </div>

            <div id="nyc-items" class="items-grid"></div>
        </div>
    </div>

    <!-- JavaScript files - load in order of dependencies -->
    <script src="interaction/data.js"></script>
    <script src="interaction/state.js"></script>
    <script src="interaction/currency.js"></script>
    <script src="interaction/survey.js"></script>
    <script src="interaction/items.js"></script>
    <script src="interaction/budget.js"></script>
    <script src="interaction/navigation.js"></script>
    <script src="main.js"></script>
</body>
</html>

